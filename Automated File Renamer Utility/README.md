# Automated File Renamer Utility
## A Two-Part System for User Account Migration

This repository contains a set of reusable command-line scripts designed to automate the process of renaming files associated with a specific user ID (`old_user`) to a new user ID (`new_user`).

This solution is engineered for robustness in system environments, utilizing **Bash for data extraction** and **Python for secure file system manipulation**.

## üöÄ Usage

This tool operates in two stages: **Discovery** (Bash) and **Execution** (Python).

### Stage 1: Discover Files (`find_name_in_fs.sh`)
The Bash script generates a list of files that contain the `old_user` and exist on the file system.

|   |   |   |
|---|---|---|
|**Argument**|**Description**|**Example**|
|**`$1`**|Source file containing file list (e.g., `../data/master_list.txt`)|`../data/list.txt`|
|**`$2`**|The **old** username to search for (e.g., `jane`)|`jane`|
|**`$3`**|Output file to save results (e.g., `files_to_rename.txt`)|`oldFiles.txt`|

```
# Example: Find all files for 'jane' in the master list and save them to oldFiles.txt
./find_name_in_fs.sh ../data/list.txt jane oldFiles.txt
Note: chmod +x ./find_name_in_fs

```

### Stage 2: Execute Renaming (`file_renaming_script.py`)

The Python script reads the file paths generated by Stage 1 and executes the rename command (`mv`) safely for each file.

|   |   |   |
|---|---|---|
|**Argument**|**Description**|**Example**|
|**`$1`**|Path to the file list generated in Stage 1 (e.g., `oldFiles.txt`)|`oldFiles.txt`|
|**`$2`**|The **old** username to replace (e.g., `jane`)|`jane`|
|**`$3`**|The **new** username to replace with (e.g., `jdoe`)|`jdoe`|

```
# Example: Rename files listed in oldFiles.txt, swapping 'jane' with 'jdoe'
python3 file_renaming_script.py oldFiles.txt jane jdoe

```

## üõ†Ô∏è Design & Engineering Decisions
These points highlight the quality and robustness of the implementation.

|   |   |
|---|---|
|**Feature**|**Engineering Principle Demonstrated**|
|**Secure Subprocess**|The Python script uses `subprocess.run()` with arguments passed as a **list** (`["mv", old, new]`). This crucial step prevents **shell injection vulnerabilities**.|
|**Defensive Coding**|The Python script includes explicit `FileNotFoundError` handling and uses `check=True` to catch `mv` failures (`CalledProcessError`), ensuring the script handles errors gracefully without crashing.|
|**Modularity**|Both scripts use professional entry points (`if __name__ == "__main__":` and `#!/bin/bash` with argument validation) for easy integration and testing.|

## üí° Future Improvements

- **Flexible CLI**|Both scripts accept all necessary parameters (`file`, `old_user`, `new_user`) as command-line arguments, making the utility reusable for any user migration.
- **Pattern Detection:** Implement logic in `file_renaming_script.py` to auto-detect if the input file format is a simple list or an `ls -l` output, using Python's string splitting or regex.
    
- **Dry-Run Mode:** Add a `-d` or `--dry-run` flag to `file_renaming_script.py` to print the rename operations without executing the `mv` command.